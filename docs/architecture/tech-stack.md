# Tech Stack

## Technology Stack Table
| Category               | Technology                             | Version         | Purpose                                                  | Rationale                                                                        |
| :--------------------- | :------------------------------------- | :-------------- | :------------------------------------------------------- | :------------------------------------------------------------------------------- |
| **Frontend Language**  | Dart                                   | `3.x`           | Primary language for Flutter development.                | Required for Flutter.                                                            |
| **Frontend Framework** | Flutter                                | `3.16.x` or newer | Cross-platform mobile UI toolkit with dynamic form rendering. | Chosen for its rapid development, expressive UI, native performance, and ability to render dynamic UIs from JSON schemas. |
| **State Management**   | Provider                               | `6.x`           | Simple, efficient state management for Flutter.          | Easy to learn and sufficient for chat state, form state, and dashboard data management. |
| **UI Component Library**| Material 3                             | (Flutter SDK)   | Default UI component and design system for Flutter.      | Provides high-quality, customizable widgets for chat interface, forms, and dashboard visualizations. |
| **Real-time Communication** | Socket.IO Client                  | `2.x`           | Real-time bidirectional communication with notification server. | Enables immediate notification delivery and maintains persistent connection for real-time updates. |
| **Backend Platform**   | n8n Cloud / n8n                        | `latest`        | Workflow automation tool serving as the primary backend. | Core architectural choice for AI agent orchestration, form generation, and API management. |
| **Notification Server** | Node.js + Express + Socket.IO         | `20.x` / `4.x`  | Real-time notification and messaging server.             | Dedicated server for Socket.IO communication, enabling real-time alerts and bidirectional messaging. |
| **Database**           | PostgreSQL                             | `15` or `16`    | Relational database for all application data.            | Robust, scalable, and well-supported by n8n for storing structured data & JSONB. |
| **API Style**          | REST (via Webhooks)                    | N/A             | Communication protocol between Flutter and n8n.          | Simple, stateless, and the native method for triggering n8n workflows.           |
| **Authentication**     | Google OAuth via n8n (PKCE + JWT)      | N/A             | OAuth 2.0 flows for Google Sign-In, token storage & app sessions. | Centralized server-side OAuth handling in n8n (PKCE for mobile); stores tokens encrypted in PostgreSQL and issues short-lived app JWTs. Avoids Firebase and keeps client secrets off-device. |
| **Frontend Testing**   | `flutter_test`                         | (Flutter SDK)   | Default framework for Flutter unit and widget testing.   | (Post-MVP) Built-in and well-integrated.                                         |
| **IaC / Backend Definition** | n8n Workflow Exports (JSON/YAML) | N/A             | Infrastructure-as-Code for backend workflows.             | Exported n8n workflow files serve as the canonical definition of backend logic and deployment templates. |
